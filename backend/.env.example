# VVLIVE Backend Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# Host to bind the server to (0.0.0.0 for all interfaces, 127.0.0.1 for local only)
HOST=0.0.0.0
# Port for the FastAPI server
PORT=8000
# Enable debug mode (auto-reload, detailed errors)
DEBUG=false

# ============================================================================
# SECURITY
# ============================================================================
# CRITICAL: Change these in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-this-to-random-secure-key-in-production
API_TOKEN=change-this-to-random-secure-token-in-production

# ============================================================================
# ENCODER CONFIGURATION (URay or similar H.265 encoder)
# ============================================================================
# IP address of the video encoder
ENCODER_IP=192.168.1.100
# Encoder admin username
ENCODER_USERNAME=admin
# Encoder admin password
ENCODER_PASSWORD=change-encoder-password
# Encoder type (uray, teradek, etc.)
ENCODER_TYPE=uray

# ============================================================================
# OBS STUDIO WEBSOCKET
# ============================================================================
# OBS WebSocket server host
OBS_HOST=localhost
# OBS WebSocket server port (default: 4455)
OBS_PORT=4455
# OBS WebSocket password (leave empty if none set)
OBS_PASSWORD=

# ============================================================================
# MPTCP SERVER
# ============================================================================
# Port for MPTCP server to listen on
MPTCP_SERVER_PORT=8443

# ============================================================================
# MONITORING
# ============================================================================
# How often to poll metrics (seconds)
METRICS_POLL_INTERVAL=1
# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# DATABASE
# ============================================================================
# Path to SQLite database file
DATABASE_PATH=./data/streaming.db

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable emergency mode (switch to simple scene on critical issues)
FEATURE_EMERGENCY_MODE=true
# Enable audio-only mode fallback
FEATURE_AUDIO_ONLY_MODE=true
# Detect when OBS output freezes
FEATURE_OUTPUT_FREEZE_DETECTION=true
# Detect when stream is live but muted
FEATURE_MUTED_BUT_LIVE_DETECTION=true
# Calculate and display health score
FEATURE_HEALTH_SCORE=true
# Score uplink reliability over time
FEATURE_UPLINK_TRUST_SCORING=true
# Suppress dead/unreliable links
FEATURE_DEAD_LINK_SUPPRESSION=true
# Silent alerts (notifications without audio)
FEATURE_SILENT_ALERTS=true
# Generate post-stream report
FEATURE_POST_STREAM_REPORT=true
# Show timeline of events
FEATURE_TIMELINE=true
